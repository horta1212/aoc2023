inputs=[
['8A64C',595],
['79B27',258],
['88885',88],
['8933B',444],
['72527',676],
['5555A',788],
['69946',463],
['572CC',827],
['553BC',932],
['99A99',567],
['47C7C',112],
['8B8CC',186],
['5D499',862],
['2837C',321],
['55557',310],
['DEEEE',263],
['B4999',783],
['4CCC4',961],
['64464',329],
['8EC9D',153],
['763ED',341],
['C3D3C',353],
['4ABA6',593],
['DB46B',666],
['EE92C',176],
['88555',738],
['8DBBB',431],
['46A35',295],
['86868',400],
['884E4',19],
['CCD44',860],
['99996',794],
['6B778',159],
['45C9A',763],
['8ECEC',39],
['4BB2D',764],
['C42EA',3],
['77C7C',905],
['57EAB',185],
['CCCB6',707],
['ADA2A',115],
['BD646',951],
['3DA2D',324],
['94B64',569],
['C278B',998],
['36CDE',979],
['89A98',772],
['55A66',669],
['62747',161],
['742AD',264],
['B5E2C',252],
['BDEBD',455],
['72777',659],
['4454A',940],
['C2278',479],
['63D36',53],
['3D839',512],
['E5EE5',223],
['A3332',27],
['DC55C',217],
['75AA7',706],
['53555',775],
['9DD96',348],
['9E999',984],
['9AA99',943],
['AAEAB',906],
['6964D',711],
['42452',983],
['22EE2',241],
['22282',521],
['77733',627],
['DCE47',987],
['738B7',963],
['DD2DD',231],
['22322',709],
['4A7B6',665],
['C6D6E',417],
['2479D',955],
['7B22A',861],
['77E4E',446],
['8642D',934],
['25B32',435],
['E3E3E',883],
['CC3BC',280],
['D7666',489],
['2CEC9',732],
['85422',976],
['A3393',322],
['28888',298],
['B9759',608],
['33438',564],
['E3DC4',377],
['2D6AB',209],
['CC64B',482],
['8A5A3',815],
['3D6D6',123],
['37757',741],
['555E6',858],
['5AEEE',12],
['2225D',965],
['C29CC',355],
['2277D',62],
['99932',169],
['77722',458],
['C9444',550],
['DB8DD',338],
['9D99E',238],
['5C5C2',427],
['7E6E6',675],
['798EC',766],
['386D8',420],
['88788',681],
['2D4BD',974],
['53426',776],
['46892',884],
['7C47A',754],
['923E4',719],
['449BC',506],
['2C2C2',596],
['D888A',235],
['6EE6D',232],
['57A5A',314],
['A3AE4',171],
['3CC4E',581],
['AEE98',946],
['75C8E',170],
['46E4E',807],
['36836',539],
['888A3',515],
['5DE55',520],
['92B56',164],
['C3B56',1],
['DEEB7',499],
['7CBC4',196],
['AADAD',552],
['EC4CE',257],
['7BAAA',249],
['7CC89',268],
['96998',733],
['39933',713],
['44BB4',603],
['6877D',206],
['D224B',450],
['AAADB',38],
['A7999',22],
['7A55B',660],
['66363',61],
['33363',610],
['AAEEA',795],
['36336',739],
['55255',604],
['982BB',146],
['9EAC6',313],
['AA688',293],
['AA7DA',648],
['93298',817],
['7AB77',288],
['23B3B',184],
['BA7A3',132],
['C9C95',430],
['5554E',14],
['CECCE',212],
['AA33A',538],
['7E7B7',97],
['BC738',968],
['EDE8D',923],
['D9988',498],
['B424E',481],
['5EA66',792],
['CC444',835],
['22262',916],
['ABAAB',334],
['77C47',462],
['84884',871],
['959EC',950],
['9637B',492],
['CDCC3',214],
['68D6E',13],
['26624',843],
['AAAA4',470],
['48AA5',81],
['E6ECE',540],
['AAC9C',285],
['E8EEE',473],
['88848',900],
['D779D',688],
['3CBB5',852],
['66A6D',224],
['55595',720],
['2222A',784],
['83CA5',870],
['6CCC2',426],
['44D55',625],
['4EB94',472],
['6E55E',284],
['85584',43],
['C96B2',986],
['DE5EE',939],
['62662',74],
['89277',390],
['4BDDB',349],
['336EE',82],
['E99E9',477],
['C95B9',116],
['D99D8',108],
['EDE6E',505],
['37B92',800],
['AA98A',15],
['BE75C',276],
['44433',91],
['93494',684],
['7E772',220],
['D6BDE',9],
['8AA85',685],
['44448',600],
['64A6A',484],
['E3D29',547],
['4455A',698],
['932B6',742],
['57595',198],
['937CB',114],
['69696',423],
['E3E55',143],
['D8B4B',25],
['7EC64',646],
['8C44E',166],
['B2ECE',809],
['9993C',272],
['E6BA4',812],
['D44A4',222],
['B5567',577],
['22244',109],
['ADAAA',631],
['C678D',919],
['C9DA3',157],
['4EB64',602],
['7667A',912],
['E9D35',282],
['272E2',78],
['B887B',113],
['D9E57',246],
['BE7E2',915],
['E3A9E',73],
['264A4',129],
['DD777',386],
['A6665',507],
['BA2EA',642],
['66D66',382],
['B4666',94],
['235DC',966],
['A3A53',868],
['3CE4E',584],
['CC7CC',432],
['BDD6D',37],
['64594',575],
['95669',931],
['37383',366],
['D9DDB',563],
['4C9A3',970],
['8688A',180],
['C999C',242],
['74724',243],
['6666E',623],
['66EA6',250],
['4DE58',451],
['B622B',493],
['2B32A',47],
['C4586',859],
['3393C',221],
['9C55C',908],
['66277',121],
['A7E94',461],
['8DA58',160],
['D9D99',989],
['29292',23],
['48462',574],
['6A443',1000],
['33344',414],
['22728',964],
['C58BC',680],
['35D7A',542],
['5E3CD',673],
['E5553',453],
['84C7A',743],
['9489B',903],
['ABA94',5],
['2925E',195],
['45954',17],
['B6A79',460],
['6638B',848],
['977B9',192],
['EEEB5',131],
['3A39A',401],
['87828',447],
['9BBD7',651],
['42552',632],
['A7ABB',389],
['EE75E',274],
['DE46D',11],
['C2C2C',55],
['DBDD3',697],
['5D3D3',495],
['84786',21],
['5B5CC',413],
['25755',849],
['29222',780],
['B5E9D',630],
['D6AE6',863],
['EDDDB',395],
['C4456',777],
['547D7',328],
['CA35D',559],
['EBEE4',872],
['DAB6D',48],
['ACCAC',215],
['22662',768],
['28547',526],
['7B77C',958],
['2B2BD',42],
['ED648',691],
['D6833',716],
['55B55',888],
['33322',904],
['2E6B7',605],
['58887',586],
['4B8C7',621],
['9E8C8',824],
['BC2A9',356],
['3AAAA',383],
['BCCCB',699],
['56A3C',351],
['22422',879],
['D25EB',585],
['82B66',305],
['CBC68',703],
['96974',189],
['4BA36',419],
['84AB2',549],
['E95E2',84],
['DD3DD',724],
['E5DDE',421],
['AAAEA',636],
['2A22D',822],
['337B7',634],
['98AA9',770],
['B99BB',167],
['88454',236],
['B2985',405],
['DCDDD',798],
['6DC82',168],
['EBB9E',92],
['95595',150],
['82943',672],
['9C7BE',69],
['43CBC',829],
['E8382',773],
['332B4',8],
['7777D',657],
['9B999',851],
['35B5B',99],
['EDC82',24],
['59355',658],
['EEECE',452],
['98888',44],
['77947',476],
['48222',533],
['A6666',30],
['AA4A7',144],
['3C8C8',297],
['B3888',309],
['CB22E',933],
['6AC88',977],
['23E4B',18],
['66E5E',262],
['6A5E5',914],
['5D9B6',922],
['C4C99',751],
['3874C',60],
['AADA8',653],
['7AA7A',126],
['9B668',364],
['9EAD2',155],
['44462',187],
['85EBE',692],
['D54B9',594],
['2AD95',318],
['CA289',744],
['EC45C',846],
['D2583',841],
['55556',837],
['76662',286],
['79577',893],
['D3B47',140],
['CEA37',644],
['89CA7',921],
['3EEEE',379],
['D49D8',647],
['7373C',396],
['9B5C8',254],
['799C7',85],
['5B55D',558],
['AB254',528],
['C5CBC',207],
['23223',527],
['EC83D',694],
['9AB2B',101],
['9476D',590],
['AAC5B',359],
['E9AC2',641],
['2B35C',519],
['55522',398],
['99949',708],
['94D3D',234],
['4B884',336],
['3A32A',633],
['33B3D',137],
['8B778',456],
['8C57A',726],
['79975',177],
['B37C2',467],
['ADDDA',553],
['47442',992],
['EA7D3',875],
['76666',573],
['424CB',497],
['333D8',597],
['EBAEE',29],
['89C26',844],
['3DD33',723],
['E9EDB',138],
['77555',592],
['33888',762],
['A5342',561],
['75547',190],
['AA4BA',650],
['45C55',818],
['7B777',935],
['333AC',478],
['566B4',71],
['A7CAA',854],
['28558',643],
['26895',273],
['8762E',58],
['B333B',79],
['387B4',437],
['A9926',980],
['4D425',325],
['97C5D',546],
['C57D3',898],
['EE988',579],
['669BE',678],
['859B5',701],
['29992',700],
['BE66E',141],
['4B777',440],
['B7E7E',816],
['BCC96',941],
['43354',924],
['66A22',408],
['49444',865],
['6DE5E',649],
['C5A28',106],
['77977',352],
['B56C5',31],
['22656',814],
['EA333',518],
['6BAA6',2],
['99889',838],
['BEDED',790],
['35355',247],
['A2E82',32],
['68888',429],
['C69A3',944],
['8688D',72],
['684D8',337],
['A9576',385],
['333E4',674],
['3A633',994],
['92BCD',894],
['E6293',517],
['DD288',327],
['373C4',66],
['DDBB8',737],
['38A67',995],
['DDB4D',609],
['95898',615],
['ECCE9',802],
['AA8B7',67],
['3E438',397],
['EBEDB',895],
['254E2',808],
['B9A26',117],
['EBEEB',954],
['94499',847],
['A8999',836],
['D4A7B',529],
['24444',535],
['B2222',956],
['44DE4',45],
['6E66E',95],
['52778',856],
['BDBDD',346],
['EEBEE',211],
['B52B5',103],
['786BB',693],
['C66B6',876],
['5353B',511],
['DD6D6',438],
['D9C99',424],
['948A9',655],
['D47DD',380],
['97937',271],
['DDD4D',617],
['B4978',142],
['7C848',149],
['8733B',312],
['88778',172],
['6E363',926],
['DCC4D',468],
['ED9C7',962],
['9AC58',436],
['DBD57',165],
['DE464',967],
['8AACC',10],
['7464D',306],
['558C7',583],
['29999',267],
['CEE82',656],
['D6E75',760],
['7775B',442],
['DB3D3',332],
['BC2A4',128],
['A9728',350],
['B4494',89],
['498AA',365],
['EBE4C',193],
['666C4',806],
['37476',410],
['896CD',302],
['DDB6C',614],
['29522',265],
['5AE48',287],
['EB24A',705],
['76AD2',173],
['E2749',261],
['B9575',433],
['DC948',828],
['59545',952],
['3EA56',275],
['664C8',182],
['6429A',554],
['CC8CC',406],
['24EE4',259],
['5B66B',315],
['9338C',981],
['66637',503],
['AA888',354],
['23243',179],
['6D54B',804],
['277B3',855],
['22727',682],
['3693C',64],
['97489',375],
['57A88',174],
['ACE36',428],
['DD5DD',839],
['C343C',589],
['E2262',628],
['E9EBE',373],
['56757',565],
['3D333',454],
['96622',233],
['BBB8B',370],
['9DAAA',466],
['D22BD',702],
['DDD33',508],
['A9A9A',715],
['99595',368],
['ABA55',485],
['B28A8',591],
['A8768',291],
['A7D68',845],
['B666B',663],
['C966B',105],
['B3333',360],
['8ECE3',496],
['DBACD',316],
['DAAA3',372],
['E259A',181],
['7777C',191],
['78777',911],
['7E925',208],
['CECDC',930],
['C736D',747],
['D7DAD',920],
['388A3',982],
['C5CCC',218],
['49B49',145],
['23329',219],
['D97DC',736],
['7DCB7',667],
['4DBE6',323],
['422A2',857],
['DBBDA',746],
['A7AAA',727],
['B552A',304],
['77ADD',107],
['D432B',278],
['9BB99',988],
['6C8E8',283],
['2E6A8',890],
['28EE5',601],
['A662A',721],
['55B5B',725],
['4CAC4',237],
['ADD4A',175],
['22682',471],
['B8538',343],
['498B3',910],
['3A548',850],
['33868',465],
['D55D3',151],
['947DB',118],
['3A9E5',281],
['4A83D',422],
['22D27',51],
['B777B',80],
['E8579',199],
['D5ED5',972],
['77233',867],
['B8B88',938],
['22AB9',369],
['757E8',686],
['93B2C',758],
['E79A6',999],
['B6DE9',239],
['B4444',378],
['CBB62',59],
['BC6C3',928],
['DD888',543],
['B636B',4],
['9EE3E',599],
['69B6B',582],
['6BDBD',110],
['C77CC',244],
['C7272',866],
['2346B',689],
['868B8',892],
['969B9',500],
['5A5D5',619],
['27622',937],
['99799',901],
['DD336',205],
['B5566',975],
['2E955',947],
['ADC57',52],
['99995',618],
['36223',301],
['A4AA8',90],
['E99EE',49],
['29699',969],
['84CAB',449],
['3A99B',801],
['ACCCC',96],
['AAD99',344],
['2B282',98],
['7AA79',152],
['B7BB7',480],
['E288B',393],
['888B8',411],
['689D6',294],
['4A2B4',787],
['C3344',307],
['2E7AE',611],
['7B86C',624],
['69B85',869],
['37878',771],
['355CE',292],
['5757B',357],
['844C8',156],
['8AAAA',416],
['CD9DC',299],
['4E6D5',757],
['76777',68],
['D692D',710],
['CB853',813],
['2BB2B',256],
['7AADD',957],
['9BD9D',56],
['4E55E',303],
['D6D22',228],
['99747',767],
['6D839',560],
['BE4AE',248],
['BE822',459],
['B6428',668],
['DDA9D',677],
['E7EEE',65],
['38333',796],
['664C3',120],
['B7432',36],
['E356B',111],
['73C49',475],
['86AB2',899],
['24442',864],
['55444',729],
['7D6D4',753],
['7269C',960],
['77B6B',194],
['8D694',210],
['5338B',544],
['AA99B',745],
['55A5A',622],
['33C33',367],
['55558',342],
['737B4',148],
['6A6B9',613],
['3EE2A',296],
['434B6',319],
['333A3',690],
['44848',936],
['E98E9',638],
['7D254',670],
['74EBC',104],
['69698',266],
['76477',821],
['ACBAA',580],
['4ADD4',909],
['45555',474],
['53CC5',887],
['CBE3C',443],
['94E85',136],
['3DEEE',913],
['39999',403],
['E4B4C',825],
['28A5E',874],
['EAAE4',54],
['43BB4',226],
['A9B48',509],
['D7A23',945],
['EA2C8',557],
['6C7B4',789],
['DDD9D',16],
['93B79',317],
['79653',200],
['C666C',335],
['EC33E',362],
['E999B',765],
['5CA47',441],
['BCCCA',756],
['9A325',122],
['4EC8A',571],
['AC342',70],
['222BD',779],
['BE443',300],
['B7D88',990],
['646A6',154],
['95569',842],
['4B626',384],
['44DD4',50],
['BCCCC',93],
['EE6EE',735],
['99888',929],
['4DD9D',629],
['E38D2',75],
['EE2EE',163],
['CCDCC',87],
['8C56D',578],
['CD467',740],
['94329',687],
['257E6',695],
['D9929',345],
['777E7',645],
['CE9EE',57],
['DDEEE',959],
['5A5A9',188],
['8BAAB',33],
['2DDEC',371],
['47747',671],
['28538',202],
['AB38E',881],
['656E5',491],
['54C89',134],
['8C888',704],
['EDEDD',415],
['B2C92',524],
['23859',347],
['8D7E6',20],
['BD676',826],
['555D5',833],
['9ED54',490],
['BA658',793],
['79DC4',778],
['BE7D2',229],
['88883',840],
['87778',791],
['799D7',712],
['4DDDE',487],
['A6BAA',537],
['EACD2',76],
['C5679',392],
['7CDC7',147],
['8DDDD',568],
['772B6',363],
['58545',41],
['E89DA',696],
['C3A86',616],
['CED54',289],
['33334',86],
['2EEE2',158],
['E55E5',83],
['AEEA5',102],
['C9673',46],
['9DDD8',882],
['6BE46',486],
['6E254',277],
['BAAD2',556],
['B76C2',269],
['9C888',781],
['B4D4D',100],
['AEEAE',488],
['EE9EE',598],
['78AC3',722],
['E888E',260],
['A675C',34],
['A3A33',761],
['C32EC',35],
['4CE45',820],
['87EEE',635],
['CEE3D',516],
['B5543',683],
['64546',404],
['74A67',464],
['3CA3A',731],
['7AA77',978],
['7B77D',402],
['EEDC4',7],
['349AE',251],
['682CE',917],
['4357A',245],
['75DA6',183],
['4CC54',652],
['25CD8',358],
['95DDE',996],
['66556',407],
['EAADD',494],
['666BD',612],
['3BD5D',290],
['426B2',522],
['BE59B',823],
['5755A',308],
['BAECD',831],
['A52C9',769],
['5BDDD',387],
['8CDDD',333],
['5D59D',541],
['44454',942],
['64625',530],
['BD7A9',361],
['2ACCC',270],
['42ED6',997],
['83A87',532],
['942EC',785],
['DECCD',993],
['44666',750],
['43DC8',418],
['DB522',749],
['BCC77',953],
['22B26',119],
['7AD6C',531],
['8AED6',127],
['44CC3',63],
['63236',853],
['66E9E',873],
['D3B3A',805],
['73373',797],
['3B336',902],
['AA67A',896],
['88DDD',810],
['DDDCB',139],
['69C58',718],
['9EDC5',501],
['3223B',948],
['55EBE',588],
['99D59',434],
['86568',755],
['A25EA',897],
['C2532',502],
['38383',388],
['B2E98',832],
['4AE4E',606],
['32888',730],
['B9ABE',545],
['3328B',339],
['5AAA5',907],
['B3EEB',819],
['59459',880],
['99933',255],
['3D762',834],
['9A729',448],
['58885',376],
['94449',6],
['B7767',374],
['DDA27',203],
['CCBCE',133],
['E4D82',326],
['AAAD4',803],
['5789B',661],
['67633',394],
['B37DD',197],
['55C57',204],
['455C2',562],
['AC539',626],
['BB222',714],
['BBBBB',728],
['98599',225],
['D666D',971],
['CDDD7',878],
['E8888',664],
['99BDB',213],
['C332C',774],
['5B525',130],
['77377',786],
['3DEA4',637],
['48E9E',891],
['7D737',409],
['B8C89',525],
['AA898',877],
['3C888',534],
['BAE8E',886],
['B57B8',991],
['9ADE5',555],
['76C27',412],
['72977',504],
['488AD',830],
['2D748',162],
['A74A9',566],
['D475B',425],
['DD62D',889],
['EB4AA',510],
['578DA',124],
['666B6',570],
['74968',331],
['2A265',620],
['67677',439],
['EEB79',949],
['88339',799],
['EBC9E',927],
['B34A3',523],
['929DD',551],
['2479C',227],
['DDBDD',918],
['85445',201],
['9C7B6',536],
['47454',513],
['E2E4C',607],
['E648B',759],
['E97E7',514],
['B86EE',240],
['C6374',576],
['4B3C5',26],
['35E75',178],
['46DC4',734],
['842E2',457],
['EE4E4',885],
['724C5',925],
['977B8',654],
['AAA5A',662],
['B3339',679],
['67B67',548],
['CABB6',28],
['CAEEB',330],
['AABAA',216],
['7E5E7',483],
['5BB8E',973],
['53ED4',639],
['DDDBA',640],
['43825',782],
['D5DD5',381],
['7CA77',77],
['99777',40],
['777D8',752],
['2CC77',811],
['B75AC',320],
['9D552',445],
['E65CE',125],
['C2379',469],
['74E98',253],
['69969',340],
['CDA84',748],
['AACC7',230],
['74CBA',985],
['57757',311],
['C7A27',587],
['C8C99',135],
['6D854',279],
['3ADEE',717],
['77484',391],
['C2D24',399],
['C7CCB',572],
]


hands_sorted={5:[],4:[],3:[],2:[],1:[],22:[],32:[]}

for row in inputs:
    hand=row[0]
    rank=row[1]
    #print('hand',hand)
    #print('type',type(hand))
    
    if len(set(hand))==1:
        hands_sorted[5].append(row)
        #five of a kind
    elif len(set(hand))==2 and hand.count(hand[0]) in [1,4]:
        hands_sorted[4].append(row)
        # four of a kind
    elif len(set(hand))==2 and hand.count(hand[0]) in [2,3]:
        hands_sorted[32].append(row)
        #full house 
    elif len(set(hand))==2:
        print('ERROR')
    elif len(set(hand))==3:
        if hand.count(hand[0])==2 or hand.count(hand[1])==2:
            hands_sorted[22].append(row)
            #two pair
        else:
            hands_sorted[3].append(row)
            #three of a kind
    elif len(set(hand))==4:
        hands_sorted[2].append(row)
        #pair
    elif len(set(hand))==5:
        hands_sorted[1].append(row)
    else:
        print("fall_through ERROR")


from copy import deepcopy
def sort_by_index(in_list, index):
    sorted_out=[]
    for sort_point in range(16,1,-1):
        local_sorted=[]
        for row in in_list:
            #print('row',row)
            hand = row[0]
            if int(hand[index],16) == sort_point:
                local_sorted.append(row)
        if len(local_sorted) > 1:
            local_sorted = sort_by_index(local_sorted,index+1)
        if len(local_sorted) > 0:
            sorted_out.extend(deepcopy(local_sorted))
    return(sorted_out)

#print(hands_sorted)
for key, rows in hands_sorted.items():
    hands_sorted[key] = sort_by_index(rows, 0)
#print(hands_sorted)

#print(5,hands_sorted[5])
#print(4,hands_sorted[4])
#print(32,hands_sorted[32])
#print(3,hands_sorted[3])
#print(22,hands_sorted[22])
#print(2,hands_sorted[2])
#print(1,hands_sorted[1])

total_sort_list=hands_sorted[5]
for row in hands_sorted[4]:
    total_sort_list.append(row)
for row in hands_sorted[32]:
    total_sort_list.append(row)
for row in hands_sorted[3]:
    total_sort_list.append(row)
for row in hands_sorted[22]:
    total_sort_list.append(row)
for row in hands_sorted[2]:
    total_sort_list.append(row)
for row in hands_sorted[1]:
    total_sort_list.append(row)
#total_sort_list.append(hands_sorted[4])
#print('total_sort_list', total_sort_list)

#print(total_sort_list)
#print(len(total_sort_list))

final_number=0
for i,rows in enumerate(reversed(total_sort_list)):
    #print(rows)
    final_number+= (i+1) * rows[1]
print("p1:", final_number)


# Part 2
hands_sorted={5:[],4:[],3:[],2:[],1:[],22:[],32:[]}

for row in inputs:
    hand=row[0]
    rank=row[1]
    #print('hand',hand)
    #print('type',type(hand))
    
    hand = hand.replace('B','')
    if len(hand) == 5:
        if len(set(hand))==1:
            hands_sorted[5].append(row)
            #five of a kind
        elif len(set(hand))==2 and hand.count(hand[0]) in [1,4]:
            hands_sorted[4].append(row)
            # four of a kind
        elif len(set(hand))==2 and hand.count(hand[0]) in [2,3]:
            hands_sorted[32].append(row)
            #full house 
        elif len(set(hand))==2:
            print('ERROR')
        elif len(set(hand))==3:
            if hand.count(hand[0])==2 or hand.count(hand[1])==2:
                hands_sorted[22].append(row)
                #two pair
            else:
                hands_sorted[3].append(row)
                #three of a kind
        elif len(set(hand))==4:
            hands_sorted[2].append(row)
            #pair
        elif len(set(hand))==5:
            hands_sorted[1].append(row)
        else:
            print("fall_through ERROR")

    elif len(hand) == 4:
        #five of a kind
        if len(set(hand))==1: 
            hands_sorted[5].append(row)
        # four of a kind
        elif len(set(hand))==2 and hand.count(hand[0]) in [1,3]:
            hands_sorted[4].append(row)
        #full house 
        elif len(set(hand))==2 and hand.count(hand[0]) in [2]:
            hands_sorted[32].append(row)
        elif len(set(hand))==2:
            print('ERROR')
        #three of a kind
        elif len(set(hand))==3:
            hands_sorted[3].append(row)
        #pair
        elif len(set(hand))==4:
            hands_sorted[2].append(row)

    elif len(hand) == 3:
        #five of a kind
        if len(set(hand))==1: 
            hands_sorted[5].append(row)
        # four of a kind
        elif len(set(hand))==2:
            hands_sorted[4].append(row)
        #three of a kind
        elif len(set(hand))==3:
            hands_sorted[3].append(row)

    elif len(hand) == 2:
        #five of a kind
        if len(set(hand))==1: 
            hands_sorted[5].append(row)
        # four of a kind
        elif len(set(hand))==2:
            hands_sorted[4].append(row)

    else:
        #five of a kind
        hands_sorted[5].append(row)




from copy import deepcopy
def sort_by_index(in_list, index):
    sorted_out=[]
    for sort_point in range(16,0,-1):
        local_sorted=[]
        for row in in_list:
            #print('row',row)
            hand = row[0]
            value = int(hand[index] ,16)
            if value == 11: value=1 #Jack
            if value == sort_point:
                local_sorted.append(row)
        if len(local_sorted) > 1:
            local_sorted = sort_by_index(local_sorted,index+1)
        if len(local_sorted) > 0:
            sorted_out.extend(deepcopy(local_sorted))
    return(sorted_out)

#print(hands_sorted)
print()
for key, rows in hands_sorted.items():
    # Original sort method
    #hands_sorted[key] = sort_by_index(rows, 0)

    #'''
    # Using sorted built-in
    # Value of Jack ('B') converted to 0.
    output = [[row[0].replace('B','0'),row[1]] for row in hands_sorted[key]] 
    output = sorted(output, key=lambda x:x[0])
    hands_sorted[key] = [i for i in reversed(output)]
    #'''

total_sort_list=hands_sorted[5]
for row in hands_sorted[4]:
    total_sort_list.append(row)
for row in hands_sorted[32]:
    total_sort_list.append(row)
for row in hands_sorted[3]:
    total_sort_list.append(row)
for row in hands_sorted[22]:
    total_sort_list.append(row)
for row in hands_sorted[2]:
    total_sort_list.append(row)
for row in hands_sorted[1]:
    total_sort_list.append(row)
#total_sort_list.append(hands_sorted[4])
#print('total_sort_list', total_sort_list)

#print(total_sort_list)
#print(len(total_sort_list))

final_number=0
for i,rows in enumerate(reversed(total_sort_list)):
    #print(rows)
    final_number+= (i+1) * rows[1]
print("p2:", final_number)



    


'''


total_vals=0
for values in hands_sorted.values():
    print(len(values))
    total_vals+=len(values)

print(total_vals)
    
fives_sorted = {i:[] for i in range(2,16)}
for row in hands_sorted[5]:
    hand=row[0]
    rank=row[1]
    fives_sorted[int(hand[0],16)].append(row)

fours_sorted = {i:[] for i in range(2,16)}
for row in hands_sorted[4]:
    hand=row[0]
    rank=row[1]
    if hand.count(hand[0])==4:
        fours_sorted[int(hand[0],16)].append(row)
    else:
        fours_sorted[int(hand[1],16)].append(row)

threes_sorted = {i:[] for i in range(2,16)}
for row in hands_sorted[3]:
    hand=row[0]
    rank=row[1]
    if hand.count(hand[0])==3:
        threes_sorted[int(hand[0],16)].append(row)
    elif hand.count(hand[1])==3:
        threes_sorted[int(hand[1],16)].append(row)
    else:
        threes_sorted[int(hand[2],16)].append(row)

twos_sorted = {i:[] for i in range(2,16)}
for row in hands_sorted[2]:
    hand=row[0]
    rank=row[1]
    if hand.count(hand[0])==2:
        twos_sorted[int(hand[0],16)].append(row)
    elif hand.count(hand[1])==2:
        twos_sorted[int(hand[1],16)].append(row)
    elif hand.count(hand[2])==2:
        twos_sorted[int(hand[2],16)].append(row)
    else:
        twos_sorted[int(hand[3],16)].append(row)

def sort_hand(hand):
    dec_list = [int(i,16) for i in hand]
    dec_list.sort()
    return(list(reversed(dec_list)))

ones_sorted = {i:[] for i in range(2,16)}
for row in hands_sorted[1]:
    hand=row[0]
    rank=row[1]
    hand_sorted = sort_hand(hand)
    ones_sorted[hand_sorted[0]].append([hand[1:],rank])

three_twos_sorted = {i:[] for i in range(2,16)}
for row in hands_sorted[32]:
    hand=row[0]
    rank=row[1]
    if hand.count(hand[0])==3:
        three_twos_sorted[hand[0]].append(row)
    elif hand.count(hand[1])==3:
        three_twos_sorted[hand[1]].append(row)
    elif hand.count(hand[2])==3:
        three_twos_sorted[hand[2]].append(row)

two_twos_sorted = {i:[] for i in range(2,16)}
for row in hands_sorted[22]:
    hand=row[0]
    rank=row[1]
    if hand.count(hand[0])==2:
        first_pair = hand[0]
        three_left=hand.replace(hand[0],'')
        if three_left.count(three_left[0]) == 2:
            second_pair = three_left[0]
        else:
            second_pair = three_left[1]
    else:
        first_pair = hand[1]
        three_left=hand.replace(hand[1],'')
        second_pair = three_left[1] # because first item is not

    if int(first_pair,16) > int(second_pair,16):


'''















